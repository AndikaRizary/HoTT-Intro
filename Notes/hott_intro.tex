% arara: makechapters: {items: [syllabus, dtt, pi, inductive, identity, equivalences, contractible, fundamental, hierarchy, funext, pullback, univalence]}

\documentclass[11pt]{memoir} %[ebook,10pt,oneside]

\title{Introduction to homotopy type theory}
\author{Egbert Rijke}
\date{Carnegie Mellon University\\Pittsburgh PA\\Spring 2018}%\\Version: \today}
%\address{Carnegie Mellon University}
%\email{erijke@andrew.cmu.edu}

\pretitle{\begin{center}\textsc\bgroup\LARGE}
\posttitle{\egroup\end{center}\vspace{2cm}}
\preauthor{\begin{center}\textsc\bgroup\Large}\postauthor{\egroup\end{center}\vfill}
\predate{\begin{center}\textsc\bgroup}{\postdate{\egroup\end{center}}

\usepackage{hott}

\usetikzlibrary{mindmap}

\makeatletter
\renewcommand{\@chapapp}{Lecture}
\makeatother

\crefname{table}{Table}{Tables}
\crefname{chapter}{Lecture}{Lectures}

\newlist{exenum}{enumerate}{1}
\setlist[exenum]{noitemsep,label=\thechapter.\arabic*}%,ref=\thechapter.\arabic*}
%\crefalias{exenumi}{Exercise} 
\crefname{exenumi}{Exercise}{Exercises}

\newlist{subexenum}{enumerate}{1}
\setlist[subexenum]{noitemsep,label=(\alph*),ref=\theexenumi.\alph*}
\crefname{subexenumi}{Exercise}{Exercises}

\newenvironment{exercises}%
{%
\section*{Exercises}\addcontentsline{toc}{section}{Exercises}\sectionmark{Exercises}
\begin{exenum}}
{%
\end{exenum}}

\addbibresource{bibliography.bib}

\makeindex

\begin{document}

\frontmatter

\begin{titlingpage}
\maketitle 
\end{titlingpage}

\tableofcontents

%\include{intro}

\include{syllabus}

\chapter{Introduction}

To include introduction:
\begin{enumerate}
\item What are types in mathematics. Dependent types and dependent functions are everywhere in mathematics.
\item Why univalent foundations. Why should homotopy be in the foundation of mathematics
\item Constructive nature of homotopy type theory. Discuss differences with set theory.
\item What this course is about
\item How to use this book
\item Formal type theory versus informal type theory
\item Mention the formalization
\end{enumerate}

\begin{rmk}
  One difference between set theory and type theory is that every well-formed term is specified along with its type and with its context. One way of looking at this is that there are three sorts in type theory: contexts, types, and terms. On the other hand, there is only one sort in set theory: sets. Sets are governed by the elementhood relation: the formula $x\in y$ is a well-formed formula of set theory for any two sets $x$ and $y$. In particular, for a given set $x$, the formula $x\in y$ can be true for many sets $y$, which is very different to the situation in type theory, where every term is assigned a unique type.
  
  Another important difference between set theory and type theory is that set theory is formulated in the language of first order logic, whereas type theory is its own deductive system, not making use of any ambient logic. We will see in the present chapter and in the next few chapters what this deductive system looks like.
\end{rmk}

\mainmatter

%\part*{Martin-L\"of's dependent type theory}

\include{dtt}

\include{pi}

\include{inductive}

\include{identity}

%\part*{Basic concepts of type theory}
\include{equivalences}

\include{contractible}

\include{fundamental}

\include{hierarchy}

\include{number-theory}

%\part*{Univalent type theory}
\include{funext}

\include{univalence}

\include{circle}

%\part*{Homotopy pullbacks and pushouts}
\include{pullback}

\include{pushout}

\include{cubical}

\include{descent}

\chapter{The identity types of pushouts}

\begin{thm}
  Consider a pushout square
  \begin{equation*}
    \begin{tikzcd}
      S \arrow[r,"g"] \arrow[d,swap,"f"] & B \arrow[d,"j"] \\
      A \arrow[r,swap,"i"] & X
    \end{tikzcd}
  \end{equation*}
  with $H:i\circ f \htpy j\circ g$, and let $a:A$. Furthermore consider $P\jdeq(P_A,P_B,r,e)$ consisting of type families $P_A$ over $A$ and $P_B$ over $B$, equipped with a point $r:P_A(a)$, and a family of equivalences
  \begin{equation*}
    e:\prd{s:S} P_A(f(s)) \simeq P_B(g(s)).
  \end{equation*}
  If $P$ is the initial such object, then we have two families of equivalences
  \begin{align*}
    \alpha & : \prd{x:A}P_A(x)\simeq (i(a)=i(x)) \\
    \beta & : \prd{y:B} P_B(y)\simeq (i(a)=j(b)) 
  \end{align*}
  such that $\alpha(a,r)=\refl{i(a)}$, and the square
  \begin{equation*}
    \begin{tikzcd}[column sep=huge]
      P_A(f(s)) \arrow[r,"e(s)"] \arrow[d,swap,"\alpha(f(s))"] & P_B(g(s)) \arrow[d,"\beta(g(s))"] \\
      (i(a)=i(f(s))) \arrow[r,swap,"\lam{p}\ct{p}{H(s)}"] & (i(a)=g(s))
    \end{tikzcd}
  \end{equation*}
  commutes for each $s:S$
\end{thm}

\begin{thm}
  Let $X$ be a pointed type with base point $x_0:X$. Then the loop space of $\susp{X}$ is the initial type $Y$ equipped with a base point $y_0:Y$, and a pointed map
  \begin{equation*}
    X \to_\ast (Y\simeq Y).
  \end{equation*}
\end{thm}

\begin{cor}
  The loop space of $\sphere{2}$ is the initial type $X$ equipped with a point $x_0:X$ and a homotopy $H:\idfunc\htpy\idfunc$.
\end{cor}

\begin{exercises}
  \item Show that if $X$ has decidable equality, then $\susp{X}$ is a $1$-type.
\end{exercises}


%\part*{Homotopy quotients}
\include{sequences}

\include{image}

\include{replacement}

\chapter{The classifying type of a group}

\include{truncation}

%\part*{Synthetic homotopy theory}
\include{homotopy_groups}

\include{les}

\include{connected}

\include{smash}

\include{blakers-massey}

%\include{open_problems}

\backmatter

\printbibliography

\printindex

\end{document}
