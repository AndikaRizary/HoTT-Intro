\section{The identity types of pushouts}

\subsection{Characterizing the identity types of pushouts}

\begin{defn}
  Consider a span $\mathcal{S}$
  \begin{equation*}
    \begin{tikzcd}
      A & S \arrow[l,swap,"f"] \arrow[r,"g"] & B,
    \end{tikzcd}
  \end{equation*}
  and consider $P,Q:\mathsf{Fam\usc{}pushout}(\mathcal{S})$. A morphism of descent data from $P$ to $Q$ is defined to be a triple $(h_A,h_B,h_S)$ consisting of
  \begin{align*}
    h_A & : \prd{x:A} P_A(x)\to Q_A(x) \\
    h_B & : \prd{y:B} P_B(y)\to Q_B(y)
  \end{align*}
  equipped with a homotopy $h_S$ witnessing that the square
  \begin{equation*}
    \begin{tikzcd}[column sep=huge]
      P_A(f(s)) \arrow[r,"h_A(f(s))"] \arrow[d,swap,"P_S(s)"] & Q_A(f(s)) \arrow[d,"Q_S(s)"] \\
      P_B(g(s)) \arrow[r,swap,"h_B(g(s))"] & Q_B(g(s))
    \end{tikzcd}
  \end{equation*}
  commutes for every $s:S$. We write $\mathsf{hom\usc{}Fam\usc{}pushout}(\mathcal{S})$ for the type of morphisms of descent data.

  An equivalence of descent data from $P$ to $Q$ is a morphism $h$ such that $h_A$ and $h_B$ are families of equivalences.
\end{defn}

\begin{defn}
  Consider a span $\mathcal{S}$ equipped with $a:A$, and consider
  $P:\mathsf{Fam\usc{}pushout}(\mathcal{S})$ equipped with $p:P_A(a)$. We say that $P$ is \define{universal} if for every $Q:\mathsf{Fam\usc{}pushout}(\mathcal{S})$ the evaluation map
  \begin{equation*}
    \mathsf{hom\usc{}Fam\usc{}pushout}(P,Q)\to Q_A(a)
  \end{equation*}
  given by $h\mapsto h_A(a,p)$ is an equivalence.
\end{defn}

\begin{thm}
  Consider a pushout square
  \begin{equation*}
    \begin{tikzcd}
      S \arrow[r,"g"] \arrow[d,swap,"f"] & B \arrow[d,"j"] \\
      A \arrow[r,swap,"i"] & X
    \end{tikzcd}
  \end{equation*}
  with $H:i\circ f \htpy j\circ g$, and let $a:A$. Furthermore consider a pair $(P,p_0)$ consisting of $P:\mathsf{Fam\usc{}pushout}(\mathcal{S})$ and $p:P_A(a)$. If $P$ is universal, then we have two families of equivalences
  \begin{align*}
    e_A & : \prd{x:A}P_A(x)\simeq (i(a)=i(x)) \\
    e_B & : \prd{y:B} P_B(y)\simeq (i(a)=j(b)) 
  \end{align*}
  equipped with a homotopy $e_S$ witnessing that the square
  \begin{equation*}
    \begin{tikzcd}[column sep=huge]
      P_A(f(s)) \arrow[r,"e(s)"] \arrow[d,swap,"\alpha(f(s))"] & P_B(g(s)) \arrow[d,"\beta(g(s))"] \\
      (i(a)=i(f(s))) \arrow[r,swap,"\lam{p}\ct{p}{H(s)}"] & (i(a)=g(s))
    \end{tikzcd}
  \end{equation*}
  commutes for each $s:S$, and an identification $e_A(a,r)=\refl{i(a)}$
\end{thm}

\begin{thm}
  Let $X$ be a pointed type with base point $x_0:X$. Then the loop space of $\susp{X}$ is the initial type $Y$ equipped with a base point $y_0:Y$, and a pointed map
  \begin{equation*}
    X \to_\ast (Y\simeq Y).
  \end{equation*}
\end{thm}

\begin{proof}
  The type of pairs $(Y,\mu)$ consisting of a pointed type $Y$ and a pointed map $\mu:X\to_\ast (Y \simeq Y)$ is equivalent to the type of triples $(Y,Z,\mu)$ consisting of a pointed type $Y$, a type $Z$, and a map $\mu:X\to (Y\simeq Z)$.  
\end{proof}

\begin{cor}
  The loop space of $\sphere{2}$ is the initial type $X$ equipped with a point $x_0:X$ and a homotopy $H:\idfunc\htpy\idfunc$.
\end{cor}

\begin{exercises}
\item Show that if $X$ has decidable equality, then $\susp{X}$ is a $1$-type.
\item Consider a pushout square
  \begin{equation*}
    \begin{tikzcd}
      A \arrow[r] \arrow[d,swap,"f"] & \unit \arrow[d,"j"] \\
      B \arrow[r,swap,"i"] & X
    \end{tikzcd}
  \end{equation*}
  where $f:A\to B$ is an embedding.
  \begin{subexenum}
  \item Show that there are equivalences
  \begin{align*}
    (i(b)=i(y)) & \simeq (b=y)\ast \fib{f}{b} \\
    (i(b)=j(\ttt)) & \simeq \fib{f}{b}
  \end{align*}
  for any $b,y:B$.
  \item Use \cref{ex:trunc-join-with-prop} to show that if $B$ is a $k$-type, then so is $X$, for any $k\geq 0$.
  \end{subexenum}
\end{exercises}
