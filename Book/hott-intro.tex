% arara: makechapters: {items: [syllabus, dtt, pi, inductive, identity, equivalences, contractible, fundamental, hierarchy, funext, pullback, univalence]}

\documentclass[11pt]{memoir} %[ebook,10pt,oneside]
  
\usepackage{hott}

\title{Introduction to homotopy type theory}
\author{Egbert Rijke}
\date{2019}%\\Version: \today}
%\address{Carnegie Mellon University}
%\email{erijke@andrew.cmu.edu}

\pretitle{\begin{center}\textsc\bgroup\LARGE}
\posttitle{\egroup\end{center}\vspace{2cm}}
\preauthor{\begin{center}\textsc\bgroup\Large}\postauthor{\egroup\end{center}\vfill}
\predate{\begin{center}\textsc\bgroup}{\postdate{\egroup\end{center}}

% The following is to avoid overfull hboxes in the table of contents.
% https://tex.stackexchange.com/questions/49887/overfull-hbox-warning-for-toc-entries-when-using-memoir-documentclass
%\renewcommand*{\cftdotsep}{1}
\setpnumwidth{2em}
\setrmarg{3em}
\setlength{\cftchapternumwidth}{2em}
\setlength{\cftsectionindent}{2em}
\setlength{\cftsectionnumwidth}{2em}
\setlength{\cftsubsectionindent}{4em}
\setlength{\cftsubsectionnumwidth}{3em}

% We number sections independently of chapters, and subsections will be
% numbered too.

\counterwithout{section}{chapter}
\settocdepth{subsection}

% We set up the exercise environment, which produces list environment in a new
% unnumbered subsection that also gets mentioned in the table of contents.

\newtotcounter{exercisecounter}
\newcommand{\exercise}{\item\stepcounter{exercisecounter}}

\newlist{exenum}{enumerate}{1}
\setlist[exenum]{noitemsep,label=\thesection.\arabic*}
  %,ref=\thechapter.\arabic*}

\crefname{exenumi}{Exercise}{Exercises}
  
\newlist{subexenum}{enumerate}{1}
\setlist[subexenum]{noitemsep,label=(\alph*),ref=\theexenumi.\alph*}
\crefname{subexenumi}{Exercise}{Exercises}
  
\newenvironment{exercises}
{%
\subsection*{Exercises}%
\addcontentsline{toc}{subsection}{Exercises}%
\sectionmark{Exercises}%
\begin{exenum}}
{%
%\addtocounter{exercisecounter}{\theexenumi}%
\end{exenum}}


%\makeatletter
%\AtEndDocument{\write\@auxout{\protect\total@exercises{\arabic{exercisecounter}}}}
%\def\total@exercises#1{\global\def\totalexercises{#1}}
%\total@exercises{0}
%\makeatother
      
\addbibresource{bibliography.bib}

\makeindex

\begin{document}

\begin{titlingpage}
  \maketitle 
\end{titlingpage}

\mbox{}
\vfill
Total number of exercises: \total{exercisecounter}

\bigskip
The author gratefully acknowledges the support of the Air Force Office of Scientific Research through MURI grant FA9550-15-1-0053.

\bigskip
\doclicenseThis\thispagestyle{empty}

\cleardoublepage

\frontmatter

\tableofcontents

%\include{intro}

\begin{comment}
\chapter{Introduction}

To include introduction:
\begin{enumerate}
\item What are types in mathematics. Dependent types and dependent functions are everywhere in mathematics.
\item Why univalent foundations. Why should homotopy be in the foundation of mathematics
\item Constructive nature of homotopy type theory. Discuss differences with set theory.
\item What this course is about
\item How to use this book
\item Formal type theory versus informal type theory
\item Mention the formalization
\end{enumerate}

\begin{rmk}
  One difference between set theory and type theory is that every well-formed term is specified along with its type and with its context. One way of looking at this is that there are three sorts in type theory: contexts, types, and terms. On the other hand, there is only one sort in set theory: sets. Sets are governed by the elementhood relation: the formula $x\in y$ is a well-formed formula of set theory for any two sets $x$ and $y$. In particular, for a given set $x$, the formula $x\in y$ can be true for many sets $y$, which is very different to the situation in type theory, where every term is assigned a unique type.
  
  Another important difference between set theory and type theory is that set theory is formulated in the language of first order logic, whereas type theory is its own deductive system, not making use of any ambient logic. We will see in the present chapter and in the next few chapters what this deductive system looks like.
\end{rmk}
\end{comment}

\mainmatter

\renewcommand{\thechapter}{\Roman{chapter}}
\setsecnumdepth{subsection}

\chapter{Martin-L\"of's dependent type theory}
\input{dtt}
\input{pi}
\input{nat}
\input{inductive}
\input{identity}
\input{universes-relations}
%\input{finite-types}

\chapter{Basic concepts of type theory}
\input{equivalences}
\input{contractible}
\input{fundamental}
\input{hierarchy}
\input{number-theory}

\chapter{Univalent mathematics}
\input{funext}
\input{univalence}
\input{groups}
\input{circle}
\input{circle-fundamental-cover}

\chapter{Homotopy pullbacks and pushouts}
\input{pullback}
\input{pushout}
\input{cubical}
\input{descent}
\input{id-pushout}

\chapter{Homotopy quotients}
\input{object-classifier}
\input{sequences}
\input{image}
\input{replacement}
\input{sets}
\input{truncation}
\input{projective}
\input{classifying}

\chapter{Synthetic homotopy theory}
\input{homotopy-groups}
\input{connected}
\input{classifying-equivalence}
\input{hopf}
%\input{smash}
\input{blakers-massey}

\backmatter

\printbibliography

\printindex

\end{document}
