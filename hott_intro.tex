% arara: makechapters: {items: [dtt, inductive, identity, equivalences, fundamental, hierarchy, univalence]}

\documentclass[11pt]{memoir} %[ebook,10pt,oneside]

\title{Introduction to homotopy type theory}
\author{Egbert Rijke}
\date{Carnegie Mellon University\\Pittsburgh PA\\Spring 2018}
%\address{Carnegie Mellon University}
%\email{erijke@andrew.cmu.edu}

\pretitle{\begin{center}\textsc\bgroup\LARGE}
\posttitle{\egroup\end{center}\vspace{2cm}}
\preauthor{\begin{center}\textsc\bgroup\Large}\postauthor{\egroup\end{center}\vfill}
\predate{\begin{center}\textsc\bgroup}{\postdate{\egroup\end{center}}

\usepackage{hott}

\makeatletter
\renewcommand{\@chapapp}{Lecture}
\makeatother

\newlist{exenum}{enumerate}{1}
\setlist[exenum]{noitemsep,label=\thechapter.\arabic*}%,ref=\thechapter.\arabic*}
%\crefalias{exenumi}{Exercise} 
\crefname{exenumi}{Exercise}{Exercises}

\newlist{subexenum}{enumerate}{1}
\setlist[subexenum]{noitemsep,label=(\alph*),ref=\theexenumi.\alph*}
\crefname{subexenumi}{Exercise}{Exercises}

\newenvironment{exercises}%
{%
\section*{Exercises}\addcontentsline{toc}{section}{Exercises}\sectionmark{Exercises}
\begin{exenum}}
{%
\end{exenum}}

\begin{document}

\begin{titlingpage}
\maketitle 
\end{titlingpage}

\frontmatter
\tableofcontents

\chapter{Introduction}
%\addcontentsline{toc}{chapter}{Introduction}
These are course notes for an introduction to homotopy type theory taught at Carnegie Mellon University in the spring semester of 2018. We cover the basics --- including equivalences, the univalence axiom, and higher inductive types --- and we introduce the student to the subfield of homotopy type theory that is sometimes called \emph{synthetic homotopy theory}. Early on, students will get acquainted with the basic techniques that are used in homotopy type theory to characterize the identity types of various classes of types, and once higher inductive types are introduced students will get acquainted with the descent property that can be used to construct type families over higher inductive types in order to prove properties about them.

We do not cover the univalence axiom or the function extensionality axiom until we're about a third through the course. 
There are several reasons for this. 
First of all, dependent type theory with the inductive types, and among them the identity types, deserve to be covered thoroughly. 
Second, the univalence axiom is pretty powerful, I believe it is good to go through some `agnostic' type theory first to be able to present concisely what the univalence axiom is really about, and to feel its power once we have it. 
The final reason is that actually quite a lot can and has to be established without those axioms anyway. 
These results include the fact that a map is an equivalence if and only if its fibers are contractible, the fundamental theorem of identity types, and theorems that help us identify certain classes of types as sets.
All of these results belong properly to \emph{homotopy} type theory.

\chapter{Syllabus}

\mainmatter 

\include{dtt}

\include{inductive}

\include{identity}

\include{equivalences}

\include{contractible}

\include{fundamental}

\include{hierarchy}

\include{univalence}

\begin{comment}
\chapter{The Yoneda embedding}
This is a good moment to review what we did so far, by recalling some basic notions and prove some more properties of them that involve function extensionality.

\section{Basic propositions}
\begin{lem}
For any type $A$, the type $\iscontr(A)$ is a proposition.
\end{lem}

\begin{lem}
For any family of propositions $P:A\to\prop$, the dependent function type $\prd{x:A}P(x)$ is a proposition.
\end{lem}

\begin{cor}
For any map $f:A\to B$, the type $\isequiv(f)$ is a proposition.
\end{cor}

\begin{cor}
For any type $A$ and any $n:\Z_{\geq -2}$, the type $\istrunc{n}(A)$ is a proposition.
\end{cor}

\begin{cor}
For any type $A$ and any proposition $P$, the type $A\to P$ is a proposition
\end{cor}

\begin{cor}
For any type $A$, the type $A\to \emptyt$ is a proposition.
\end{cor}

\begin{cor}
For any type $A$, the type $A\to \unit$ is contractible.
\end{cor}

\begin{exercises}
\item Show that for any type $A$ and any $n\geq-2$, the type $\istrunc{n}(A)$ is a proposition.
\item Show that for any map $f:A\to B$, the type $\isequiv(f)$ is a proposition, 
\item Show that for any type family $P:A\to\type$ and any $n\geq-2$, we have
\begin{equation*}
\Big(\prd{x:A}\istrunc{n}(P(x))\Big)\to\istrunc{n}\Big(\prd{x:A}P(x)\Big).
\end{equation*}
In other words, the truncation levels are closed under dependent function types.
Conclude that the univalence axiom is a proposition.
\item Use the construction of \autoref{ex:fiber_trans} to construct an equivalence
\begin{equation*}
\eqv{\Big(\sm{h:A\to B} f\htpy g\circ h\Big)}{\Big(\prd{x:X}\hfib{f}{x}\to\hfib{g}{x}\Big)}.
\end{equation*}
\end{exercises}
\end{comment}

\include{circle}

\include{colimits}

\include{descent}

\chapter{The Hopf fibration}
Our goal in this chapter is to construct the Hopf fibration, i.e.~a fiber sequence
\begin{equation*}
\sphere{1}\hookrightarrow\sphere{3}\twoheadrightarrow\sphere{2}.
\end{equation*}

\chapter{Embeddings and surjections}
Embeddings, subtypes, surjective maps, image factorization.
We give a type theoretical variant of the Yoneda lemma, using the groupoid structure of types.

\begin{exercises}
\item Let $\UU_\bool\defeq \sm{A:\UU}\brck{A=\bool}$ be the subuniverse of $2$-element types. Show that the type
\begin{equation*}
\sm{A:\UU_\bool}A
\end{equation*}
of \emph{pointed} 2-element types is contractible.
\end{exercises}

\include{logic}

\chapter{Univalent algebra}
\begin{enumerate}
\item Subsets and quotients
\item Factorization
\item The structure isomorphism theorem
\item The axiom of choice
\end{enumerate}

\chapter{Homotopy groups of types}
Introduce groups, abelian groups, Eckmann-Hilton argument, long exact sequence.

\chapter{Connectedness}

\chapter{The Blakers-Massey theorem}
The Blakers-Massey theorem is a connectivity theorem which can be used to prove the Freudenthal suspension theorem, giving rise to the field of \emph{stable homotopy theory}. It was proven in the setting of homotopy type theory by Lumsdaine et al, and their proof was the first that was given entirely in an elementary way, using only constructions that are invariant under homotopy equivalence. 

Consider a span $A \leftarrow S \rightarrow B$, consisting of an $m$-connected map $f:S\to A$ and an $n$-connected map $g:S\to B$. We take the pushout of this span, and subsequently the pullback of the resulting cospan, as indicated in the diagram
\begin{equation}\label{eq:BM}
\begin{tikzcd}
S \arrow[drr,bend left=15,"g"] \arrow[ddr,bend right=15,swap,"f"] \arrow[dr,densely dotted,"u" near end] \\
& A \times_{(A \sqcup^S B)} B \arrow[r,"\pi_2"] \arrow[d,"\pi_1"] & B \arrow[d,"\inr"] \\
& A \arrow[r,swap,"\inl"] & A \sqcup^S B.
\end{tikzcd}
\end{equation}
The universal property of the pullback determines a unique map $u:S\to A \times_{(A\sqcup^S B)} B$ as indicated.

\begin{thm}[Blakers-Massey]
The map $u:S\to A \times_{(A\sqcup^S B)} B$ of \autoref{eq:BM} is $(n+m)$-connected.
\end{thm}

\chapter{Some stable homotopy theory}
\section{The Freudenthal suspension theorem}

\chapter{Eilenberg-Mac Lane spaces}

\chapter{Cohomology}

\chapter{The real projective spaces}
...and their cohomology.

\appendix

\chapter{Formalization in the Lean HoTT mode}
\begin{enumerate}
\item Introduce universes
\item The inductive type constructor
\item identity functions, composition, constant functions
\end{enumerate}

\chapter{Literature}

\backmatter

\end{document}
